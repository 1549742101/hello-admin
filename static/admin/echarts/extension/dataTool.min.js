
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],t):t((e=e||self).dataTool={},e.echarts)}(this,function(e,t){"use strict";var r=Array.prototype,i=r.slice,l=r.map,o=function(){}.constructor,a=o?o.prototype:null;function f(e,t,r){if(!e)return[];if(!t)return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i.apply(e,t)}(e);if(e.map&&e.map===l)return e.map(t,r);for(var o=[],a=0,n=e.length;a<n;a++)o.push(t.call(r,e[a],a,e));return o}a&&"function"==typeof a.bind&&a.call.bind(a.bind);function d(e,t){return e.getAttribute(t)}function v(e,t){for(var r=e.firstChild;r;){if(1===r.nodeType&&r.nodeName.toLowerCase()===t.toLowerCase())return r;r=r.nextSibling}return null}function g(e,t){for(var r=e.firstChild,o=[];r;)r.nodeName.toLowerCase()===t.toLowerCase()&&o.push(r),r=r.nextSibling;return o}var n=Object.freeze({__proto__:null,parse:function(e){var t;if(!(t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e)||t.getElementsByTagName("parsererror").length)return null;var r=v(t,"gexf");if(!r)return null;for(var o,a,n,c,i=v(r,"graph"),l=(o=v(i,"attributes"))?f(g(o,"attribute"),function(e){return{id:d(e,"id"),title:d(e,"title"),type:d(e,"type")}}):[],u={},s=0;s<l.length;s++)u[l[s].id]=l[s];return{nodes:(n=v(i,"nodes"),c=u,n?f(g(n,"node"),function(e){var t={id:d(e,"id"),name:d(e,"label"),itemStyle:{normal:{}}},r=v(e,"viz:size"),o=v(e,"viz:position"),a=v(e,"viz:color"),n=v(e,"attvalues");if(r&&(t.symbolSize=parseFloat(d(r,"value"))),o&&(t.x=parseFloat(d(o,"x")),t.y=parseFloat(d(o,"y"))),a&&(t.itemStyle.normal.color="rgb("+[0|d(a,"r"),0|d(a,"g"),0|d(a,"b")].join(",")+")"),n){var i=g(n,"attvalue");t.attributes={};for(var l=0;l<i.length;l++){var u=i[l],s=d(u,"for"),f=d(u,"value"),p=c[s];if(p){switch(p.type){case"integer":case"long":f=parseInt(f,10);break;case"float":case"double":f=parseFloat(f);break;case"boolean":f="true"===f.toLowerCase()}t.attributes[s]=f}}}return t}):[]),links:(a=v(i,"edges"))?f(g(a,"edge"),function(e){var t={id:d(e,"id"),name:d(e,"label"),source:d(e,"source"),target:d(e,"target"),lineStyle:{normal:{}}},r=t.lineStyle.normal,o=v(e,"viz:thickness"),a=v(e,"viz:color");return o&&(r.width=parseFloat(o.getAttribute("value"))),a&&(r.color="rgb("+[0|d(a,"r"),0|d(a,"g"),0|d(a,"b")].join(",")+")"),t}):[]}}});function w(e,t){var r=(e.length-1)*t+1,o=Math.floor(r),a=+e[o-1],n=r-o;return n?a+n*(e[o]-a):a}function u(e,t){for(var r,o=[],a=[],n=[],i=(t=t||{}).boundIQR,l="none"===i||0===i,u=0;u<e.length;u++){n.push(u+"");var s=((r=e[u].slice()).sort(function(e,t){return e-t}),r),f=w(s,.25),p=w(s,.5),c=w(s,.75),d=s[0],v=s[s.length-1],g=(null==i?1.5:i)*(c-f),b=l?d:Math.max(d,f-g),h=l?v:Math.min(v,c+g);o.push([b,f,p,c,h]);for(var m=0;m<s.length;m++){var y,x=s[m];(x<b||h<x)&&(y=[u,x],"vertical"===t.layout&&y.reverse(),a.push(y))}}return{boxData:o,outliers:a,axisData:n}}var s="1.0.0";t.dataTool&&(t.dataTool.version=s,t.dataTool.gexf=n,t.dataTool.prepareBoxplotData=u),e.gexf=n,e.prepareBoxplotData=u,e.version=s,Object.defineProperty(e,"__esModule",{value:!0})});